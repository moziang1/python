## 关于python的循环

## 1.for循环

python当中的for循环，实现的机制是使用一个变量来遍历指定的序列的内容

这里说的序列，可以是列表或者是一个数字范围又或者是一个字符串‘

什么叫遍历？我们理解成挨个点名

假设我们有一个54元素内容的列表，用变量i去对该列表的内容挨个点名

当列表当中的所有元素都被点过名之后，这个循环就结束了

### 案例

```python
import random
poker=['黑桃1','黑桃2','黑桃3','黑桃4','黑桃5','黑桃6','黑桃7','黑桃8','黑桃9','黑桃10','黑桃11','黑桃12','黑桃13'
       '红桃1','红桃2','红桃3','红桃4','红桃5','红桃6','红桃7','红桃8','红桃9','红桃10','红桃11','红桃12','红桃13'
       '梅花1','梅花2','梅花3','梅花4','梅花5','梅花6','梅花7','梅花8','梅花9','梅花10','梅花11','梅花12','梅花13'
       '方片1','方片2','方片3','方片4','方片5','方片6','方片7','方片8','方片9','方片10','方片11','方片12','方片13','大王','小王']

random.shuffle(poker)      #洗牌

for i in poker:   #让变量i遍历poker这个列表内容，每次遍历的时候，i都被赋值
	print(i)     #为poker列表中当前被点到的人的名字
	            #输出看一看当前这次点到了谁的名字
------------------------------------------------------------------------------
for i in "今天天气不错":  #用字符串作为序列来进行遍历
	print(i)         #输出每次循环i被赋的值
```



### 小练习：搜索关键字

让用户输入一句话，并将这个字符串赋值给变量abc

#循环判断abc变量中存储的字符串是有f这个字母

如果有，则打印输出"找到f词！，违规"

```python
temp = input("请输入用户名（禁止使用f）")
for abc in temp:
	if abc == 'f' or abc == 'f':
		print("找到f词！，违规用户名")
```

#这是我们平常上网时用来筛选文明用语的最根本机制

### 小练习2： 遍历数字范围

```python
for i in range(100):  #用数字范围作为序列来循环，range(100)表示数字范围在0-99之间
	print(i)

或
for i in range(1,5): #指定数字
	print(i)
```





for循环在python当中无法实现无线循环

#想要实现无线循环，得用while循环来做



## 2 while 循环（无限循环）



叫做。。时

意思是，当条件被满足的时候，就循环做什么事情

```python
#文明设定一个变量a
a=10  #为其赋值数字10

#用a的数字作为判断条件来写一个while循环
while a > 0:    #当a变量大于0的情况下做什么事
    print("a大于0")
```

#在上面这个实例当中，文明发现因为给a设置了数值10，他永远都会大于0这个数值

#所以这个while循环停不下来了，也就实现了无限循环（又叫做死循环）

#我们如何让他能够停下来？

#可以在每次循环之内，让a这个变量的值减少

```python
a=10  #为其赋值数字10
while a > 0:   
    print("a大于0")
    a-=1
```

这样就会输出10行"a大于0"



### 1.关键字 break（立刻退出循环）

```python
a=10  #为其赋值数字10
while a > 0:
    print("a大于0")
    a-=1
    if a == 5: #如果变量a=5，则退出循环
        break #退出while循环
```

输出

```python
a大于0
a大于0
a大于0
a大于0
a大于0
```



### 2.关键字 continue （中止当前这次循环）

```python
a=10  #为其赋值数字10
while a > 0:
    a-=1
    if a == 5: #如果变量a=5，则退出循环
        continue  #跳过continue之后的内容，直接进入下一次循环
    print(a)
```

输出

```python
9
8
7
6
4
3
2
1
0
```



### 3. while循环中也可以使用else

```python
a=1
while a > 5:
	print(a)
else:
	print("a太小了，他的值是：",a)
```

输出

```
a太小了，他的值是： 1
```



### 4， 实验：升级你们的石头剪刀布

5次游戏机会，胜利不消耗机会，

记录连胜次数，当连胜次数到达5次时，奖励一次机会

```python
import random

# 定义字典来存储用户及密码
users = {}
# 添加用户列表
list = []

#猜拳游戏函数
def caiquan():
    print("玩家默认有5次机会，可以使用金币购买。如果机会不足，将无法进行游玩")
    jihuicishu = 5  # 定义初始生命值
    lssl = 0        # 定义连胜的值
    lssw = 0        # 定义连胜的隐藏值，和连胜值相同，在5连胜增加次数时，替代连胜值删除
    jinbi = 0       # 定义金币数量
    jingyan = 0     # 定义经验值
    level = 0       # 定义等级

    while True:
        print("您的等级为",level,"级")
        print("您的经验值为",jingyan)
        print("您剩余", jihuicishu, "次机会")
        print("您持有金币数量为",jinbi)
        if lssw >= 5:        #隐藏值为5，必定5连胜
            print("您达成",lssl,"连胜本轮不消耗机会")    #输出连胜次数，连胜的倍数
            #设置要求，连胜次数5次以上，添加
            if lssw >= 5 :
                lssw -= 5
                jihuicishu +=1
                print("恭喜您，达成",lssl,"连胜增加一次挑战机会")

        if jihuicishu <= 2 :
            print("您的游戏机会只剩下",jihuicishu,"次机会了，是否花费5个金币购买生命次数")
            temp = input("y/n")
            if temp == 'y' or temp == 'Y':
                if jinbi >= 5:
                    jinbi -= 5
                    jihuicishu += 1
                    print("您的机会还剩余",jihuicishu,"次机会")
                else:
                    print("您的金币数量为",jinbi,"不足以购买生命次数")

        xxx = input('是否开始游戏（y/n）,输入(q,Q)退出程序')
        if jihuicishu >=1 :
            print("\n")

        else:
            chishuhaojin = input("您的次数耗尽，是否退出游戏（q/Q），或购买次数（w）")
            if chishuhaojin == 'q' or chishuhaojin == "Q":
                break
            elif chishuhaojin == 'w' or chishuhaojin == 'W':
                continue

        if xxx == 'y' or xxx == 'Y':
            jihuicishu -= 1
            print('开始游戏')

            test1 = ['石头', '剪刀', '布']
            ran = random.choice(test1)
            
            print(ran)       #为了方便测试连胜，将电脑人的输出

            temp = input('我们来玩猜拳吧（石头，剪刀，布）任意一个')
            if temp == ran:
                print('平局，不消耗次数')
            elif temp == '石头' and ran == '剪刀' or temp == '剪刀' and ran == '布' or temp == '布' and ran == '石头':
                print('犹豫了很久的你，艰难的战胜了新手难度(╯‵□′)╯︵┻━┻')
                lssl +=1       #记录连胜次数
                lssw +=1       #记载连胜次数的隐藏值
                jinbi +=1
                jingyan += random.randrange(20,40)
                if jingyan > 100:
                    level += 1
                    jingyan = 0
                    jihuicishu +=5
                    print("恭喜您，升级了，目前等级",level,"级，清空经验值,增加5次机会")

            elif temp == '石头' and ran == '布' or temp == '布' and ran == '剪刀' or temp == '剪刀' and ran == '石头':
                print('电脑获胜')
                lssl = 0
                print('电脑人迅速的战胜了你(*Φ皿Φ*)')
            else:
                print('输入有误，重新输入')

        elif xxx == 'Q' or xxx == 'q':
            exit()
        else:
           print('其余功能并没有开发，您可以留下来继续游玩，也可以输入Q退出')

#用户登陆
def denglu():
    # 用户登陆判断
    #while True:        #判断数据库中是否存在该用户
        uname = input("请输入您的用户名:")
        for i in list:
            if uname == i:
                www = i
                upwd = input("请输入您的密码:")
                if upwd == users[www]:
                    print("登陆成功")
                    print('目前本项目正在逐渐开发完善，目前仅开放猜拳游戏')
                    caiquan()
                else:
                    print("密码错误")
            #else:  # 否则的意思，用来处理符合条件之外的情况
        print("没有该用户，请先注册用户")
        #break

#用户注册
def zuce():
    global list
    global users
    while True:
        user = input("请输入您的用户名(3位以上）:")
        # 检查用户名是否由字符串（数字，字母）或文字组成，并且在3个以上
        if user.isalpha and len(user) > 3:
            print('满足条件')

            # 检测用户名冲突
            if user in list:
                print('******该用户名已被使用，请重新注册*******')
                continue
            else:

                # 输入密码
                uswd1 = input("请输入您的密码（至少8位）:")
                uswd2 = input("再次输入密码")
                # 判断两边密码是否正确，是否由数字字母组成，长度4位以上
                if uswd1 == uswd2 and uswd1.isalnum() and len(uswd1) >= 8:
                    list.append(user)
                    users[user] = uswd1  # 给users字典，添加键为用户名，值为密码
                    print("注册成功", '\n''您的账户是:', user, '\n', '您的密码是:', uswd1)
                    break
                else:
                    print('您输入的密码不满足要求')
                    print('是否由数字字母组成，长度4位以上')

        else:
            print('您输入的必须是一个数字加字符，并且长度大于3')

#主体函数
def main():
    '''
    主体函数
    '''
    while True:
        temp = input('登陆/注册')
        if temp == '登陆':
            denglu()
        elif temp == '注册':
            zuce()
        else:
            print('请正确输入')

if __name__ == '__main__':
    main()

```



### 5.   实验2    二十一点

规则

```
庄家：游戏中第一个坐下的玩家默认为庄家。
　　闲家：本轮不坐庄的玩家。
　　
　　点数计算：每张牌都有点数，2到10的牌的点数就是其牌面的数字；J、Q、K的点数是10分；
　　
　　A有两种算法，1或者11，如果A算为11时总和大于21，则A算为1。例如（A,8）是19点，（A,7,J）则为18点。
　　爆牌：玩家手中牌的总点数超过21点。
　　黑杰克（BlackJack）：一张A带一张10点的牌，比其他21点的牌大，例如（A,Q）。闲家获得黑杰克，可以获得所下注的1.5倍。
　　停牌：玩家不再要牌，等待其他玩家操作。
　
 
 	要牌：
　　.闲家根据自己手上的点数决定是否要牌，如果要牌，则系统再发一张牌给玩家。如果要牌后总点数超过21，则算爆牌，玩家输掉本轮游戏；若要牌后点数为21点，则不能再要；如果要牌后总点数不到21点，则玩家可以继续“要牌”“停牌”“加倍”。
　　.庄家持牌总点数少于17，则必须要牌，直到超过16，如果庄家的总点数等于或多于17点，则必须停牌。如果庄家手中有A，且A作11点时大于16点，做1点时小于或等于16点，则由庄家自己选择是否要牌。
　　加倍：双倍下注(Double)如果您已经抽取了两张纸牌，在这两张牌不是“黑杰克”的前提下，如果认为第三张牌可以让您赢过庄家的手牌，您可以要求「双倍押注」。您的赌注将增加双倍，而您只可以再抽取一张额外纸牌。
　　保险：发过牌后如果庄家手中拿到明牌A，玩家就有机会买保险，保险金是玩家当初下注的一半。
　　.如果玩家选择保险：
　　庄家是黑杰克时，庄家只蠃得保险金。
　　庄家不是黑杰克，庄家首先收走保险金，然后进行要牌、比较的程序，与前述相同。
　　如果玩家拿到21点，仍能拿到全部的酬金。
　　.如果玩家不选择保险：
　　庄家是黑杰克时，收走玩家赌金。
　　庄家不是黑杰克,仍然进行要牌、比较等程序，与前述相同。
　　对子：闲家可以选择在自己或其他闲家上下注押对子，如果所压的闲家获得对子（即两张相同种类的牌），则下注闲家胜，庄家赔11倍的筹码。
　　分牌：若玩家获得对子，则可以选择分牌，将这两张牌分成两手牌，由这个玩家一人操作，每手牌的赌注与开始的赌注相同。分牌后不能“加倍”，拿到BlackJack牌型也只算普通的21点。
　　牌型比较
　　所有闲家都与庄家比较。
　　黑杰克为特殊牌型，比其他所有牌型都大。除黑杰克，其他牌型都以点数比较大小。
　　庄家和闲家点数相同，或都拿到黑杰克，则为平局。
　　庄家和闲家都爆牌，系统判断庄家赢。
```





```python
import random
poker=['黑桃1','黑桃2','黑桃3','黑桃4','黑桃5','黑桃6','黑桃7','黑桃8','黑桃9','黑桃10','黑桃11','黑桃12','黑桃13'
       '红桃1','红桃2','红桃3','红桃4','红桃5','红桃6','红桃7','红桃8','红桃9','红桃10','红桃11','红桃12','红桃13'
       '梅花1','梅花2','梅花3','梅花4','梅花5','梅花6','梅花7','梅花8','梅花9','梅花10','梅花11','梅花12','梅花13'
       '方片1','方片2','方片3','方片4','方片5','方片6','方片7','方片8','方片9','方片10','方片11','方片12','方片13','大王','小王']

random.shuffle(poker)      #洗牌
```

